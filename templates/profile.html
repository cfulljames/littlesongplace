{% extends "base.html" %}

{% block title %}{{ name }}'s Profile{% endblock %}

{% block body %}

<h1 class="profile-name">{{ name }}</h1>

{% if name == username %}
<form action="/uploadsong" method="post" enctype="multipart/form-data">
    <h2>Upload a new song</h2>
    <div class="upload-form">
        <label for="song">mp3 File</label>
        <input type="file" name="song" accept=".mp3" required></input>
    </div>
    <div class="upload-form">
        <label for="title">Title</label>
        <input type="text" name="title" required></input>
    </div>
    <div class="upload-form">
        <label for="title">Description (optional)</label>
        <textarea name="description"></textarea>
    </div>
    <div class="upload-form">
        <input type="submit" value="Upload"></input>
    </div>
</form>
{% endif %}

<h2>Songs</h2>

{% for song in songs %}
<div class="song">
    <div class="song-title">{{ song["title"] }}</div>
    <audio src="/song/{{ song["userid"] }}/{{ song["songid"] }}" controls></audio>
    <div class="song-description">{{ song["description"] }}</div>
</div>
{% endfor %}

{% endblock %}
